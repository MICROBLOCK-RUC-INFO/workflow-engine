# 启动容器内脚本

```shell
 python tool.py start wfService -n peer0.org1.workflow.com 
 python tool.py start nacos -n peer0.org1.workflow.com
```

# 组织注册

```shell
python tool.py org register -ip 127.0.0.1 -p 8999 -n sunzhouxing123 -o
python tool.py org register -ip 127.0.0.1 -p 8999 -n sunzhouxing456 -o
python tool.py org register -ip 127.0.0.1 -p 8999 -n sunzhouxing789 -o
```

# 生成服务元数据文件

```shell
python tool.py generate smd -ip 10.46.68.56 -p 8080 -n testService -g WORKFLOW -o
python tool.py generate smd -ip 10.46.68.56 -p 8080 -n testService -o
```



# 生成服务元数据签名(单个签名)

```shell
python tool.py sign single -t file -c serviceMetaDatas/testService_WORKFLOW -pk sunzhouxing456 -o testService_WORKFLOW_sunzhouxing456
python tool.py sign single -t file -c serviceMetaDatas/testService_default -pk sunzhouxing456 -o testService_default_sunzhouxing456
```

# 服务注册

```shell
python tool.py service register -ip 127.0.0.1 -p 8999 -pv sunzhouxing456 -smdf serviceMetaDatas/testService_WORKFLOW -sf signatures/testService_WORKFLOW_sunzhouxing456
python tool.py service register -ip 127.0.0.1 -p 8999 -pv sunzhouxing456 -smdf serviceMetaDatas/testService_default -sf signatures/testService_default_sunzhouxing456
```

# 生成bpmn文件签名(多个签名)

```shell
python tool.py sign mutil -t file -c bpmns/simpleSample.bpmn -pk sunzhouxing123 sunzhouxing456 sunzhouxing789 -o simpleSample_bpmn_sigs
```

# 部署

```shell
python tool.py bpmn deploy -ip 127.0.0.1 -p 8999 -f bpmns/simpleSample.bpmn -n simpleSample.bpmn -s signatures/simpleSample_bpmn_sigs
```

# 实例化

```shell
python tool.py bpmn instance -ip 127.0.0.1 -p 8999 -n simpleSample.bpmn -pd "{}" -bd "{\"ID\":\"hhh\"}" -t {\"submit\":\"sun\"} -o testOid
```

# 生成服务绑定元数据文件

```shell
#把task3与testService@@DEFAULT_GROUP绑定
python tool.py generate sbd -if oids/testOid -tn task3 -sn testService -m POST -r /test -input "{\"hhhlast\":\"sun.Address\"}" -o testBind
```

# 生成绑定元数据的签名(需要部署的所有组织)

```shell
python tool.py sign mutil -t file -c serviceBindDatas/testBind -pk sunzhouxing123 sunzhouxing456 sunzhouxing789 -o sbd_testBind
```

# 绑定服务

```shell
python tool.py service bind -ip 127.0.0.1 -p 8999 -df serviceBindDatas/testBind -s signatures/sbd_testBind
```

# 执行

```shell
python tool.py bpmn complete -ip 127.0.0.1 -p 8999 -if oids/testOid -n submit -pd "{}" -bd "{\"ID\":\"woshiID\",\"Address\":\"woshiADDRESS\"}" -u sun
```

