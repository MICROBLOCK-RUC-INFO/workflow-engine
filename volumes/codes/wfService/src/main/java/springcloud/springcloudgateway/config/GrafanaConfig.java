package springcloud.springcloudgateway.config;

import org.springframework.beans.factory.annotation.Value;
import org.springframework.stereotype.Component;

@Component
public class GrafanaConfig {
    public static String grafana_addr;
    public static String template = "{\"dashboard\":{\"annotations\":{\"list\":[{\"builtIn\":1,\"datasource\":\"-- Grafana --\",\"enable\":true,\"hide\":true,\"iconColor\":\"rgba(0, 211, 255, 1)\",\"name\":\"Annotations \\u0026 Alerts\",\"type\":\"dashboard\"}]},\"editable\":true,\"gnetId\":null,\"graphTooltip\":0,\"id\":null,\"links\":[],\"panels\":[{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":\"jsonDataSource\",\"description\":\"\",\"fieldConfig\":{\"defaults\":{\"custom\":{\"align\":null,\"filterable\":false},\"mappings\":[],\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"green\",\"value\":null},{\"color\":\"red\",\"value\":80}]}},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":11,\"w\":9,\"x\":0,\"y\":0},\"hiddenSeries\":false,\"id\":6,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"7.2.2\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"data\":\"\",\"hide\":false,\"rawQuery\":true,\"refId\":\"A\",\"target\":\"totalSuccessInSec\",\"type\":\"timeseries\"},{\"data\":\"\",\"refId\":\"B\",\"target\":\"totalExceptionInSec\",\"type\":\"timeseries\"}],\"thresholds\":[],\"timeFrom\":null,\"timeRegions\":[],\"timeShift\":null,\"title\":\" 吞吐量(ms)\",\"tooltip\":{\"shared\":true,\"sort\":0,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"buckets\":null,\"mode\":\"time\",\"name\":null,\"show\":true,\"values\":[]},\"yaxes\":[{\"$$hashKey\":\"object:1253\",\"format\":\"short\",\"label\":null,\"logBase\":1,\"max\":null,\"min\":null,\"show\":true},{\"$$hashKey\":\"object:1254\",\"format\":\"short\",\"label\":null,\"logBase\":1,\"max\":null,\"min\":null,\"show\":true}],\"yaxis\":{\"align\":false,\"alignLevel\":null}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":\"jsonDataSource\",\"description\":\"\",\"fieldConfig\":{\"defaults\":{\"custom\":{\"align\":null,\"filterable\":false},\"mappings\":[],\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"green\",\"value\":null},{\"color\":\"red\",\"value\":80}]}},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":11,\"w\":9,\"x\":9,\"y\":0},\"hiddenSeries\":false,\"id\":21,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"nullPointMode\":\"null as zero\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"7.2.2\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":true,\"steppedLine\":false,\"targets\":[{\"data\":\"\",\"hide\":false,\"rawQuery\":true,\"refId\":\"A\",\"target\":\"avgRtInSec\",\"type\":\"timeseries\"}],\"thresholds\":[],\"timeFrom\":null,\"timeRegions\":[],\"timeShift\":null,\"title\":\"响应 时间(ms)\",\"tooltip\":{\"shared\":true,\"sort\":0,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"buckets\":null,\"mode\":\"time\",\"name\":null,\"show\":true,\"values\":[]},\"yaxes\":[{\"$$hashKey\":\"object:67\",\"format\":\"short\",\"label\":null,\"logBase\":1,\"max\":null,\"min\":null,\"show\":true},{\"$$hashKey\":\"object:68\",\"format\":\"short\",\"label\":null,\"logBase\":1,\"max\":null,\"min\":null,\"show\":true}],\"yaxis\":{\"align\":false,\"alignLevel\":null}},{\"datasource\":null,\"fieldConfig\":{\"defaults\":{\"custom\":{}},\"overrides\":[]},\"gridPos\":{\"h\":6,\"w\":6,\"x\":18,\"y\":0},\"id\":25,\"options\":{\"content\":\"# 测试服务介绍\\n\\n测试服务test1-100位于10.77.70.173的实例\\n\",\"mode\":\"markdown\"},\"pluginVersion\":\"7.1.0\",\"timeFrom\":null,\"timeShift\":null,\"title\":\"\",\"type\":\"text\"},{\"datasource\":\"jsonDataSource\",\"description\":\"\",\"fieldConfig\":{\"defaults\":{\"custom\":{\"align\":null},\"mappings\":[],\"noValue\":\"0\",\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"green\",\"value\":null}]},\"unit\":\"none\"},\"overrides\":[]},\"gridPos\":{\"h\":4,\"w\":6,\"x\":18,\"y\":6},\"id\":23,\"options\":{\"colorMode\":\"value\",\"graphMode\":\"none\",\"justifyMode\":\"auto\",\"orientation\":\"auto\",\"reduceOptions\":{\"calcs\":[\"max\"],\"fields\":\"/.*/\",\"values\":false},\"textMode\":\"value\"},\"pluginVersion\":\"7.2.2\",\"targets\":[{\"data\":\"\",\"refId\":\"A\",\"target\":\"totalRequestInSec\",\"type\":\"timeseries\"}],\"timeFrom\":null,\"timeShift\":null,\"title\":\"最大TPS\",\"transparent\":true,\"type\":\"stat\"},{\"datasource\":\"MySQL\",\"fieldConfig\":{\"defaults\":{\"custom\":{\"align\":null},\"mappings\":[],\"thresholds\":{\"mode\":\"percentage\",\"steps\":[{\"color\":\"green\",\"value\":null},{\"color\":\"red\",\"value\":80}]}},\"overrides\":[]},\"gridPos\":{\"h\":5,\"w\":3,\"x\":18,\"y\":10},\"id\":4,\"options\":{\"orientation\":\"auto\",\"reduceOptions\":{\"calcs\":[\"mean\"],\"fields\":\"\",\"values\":false},\"showThresholdLabels\":false,\"showThresholdMarkers\":false},\"pluginVersion\":\"7.2.2\",\"targets\":[{\"format\":\"time_series\",\"group\":[],\"metricColumn\":\"none\",\"rawQuery\":true,\"rawSql\":\"SELECT\\n  clickTimeInt AS \\\"time\\\",\\n  delay\\nFROM monitor\\nwhere ipaddr='http://10.77.70.173:7002/provider/echo/dfg' \\nORDER BY clickTime\",\"refId\":\"A\",\"select\":[[{\"params\":[\"serviceDelay\"],\"type\":\"column\"}]],\"table\":\"monitor-1\",\"timeColumn\":\"clickTime\",\"timeColumnType\":\"timestamp\",\"where\":[{\"name\":\"$__timeFilter\",\"params\":[],\"type\":\"macro\"}]}],\"timeFrom\":null,\"timeShift\":null,\"title\":\"平均监控延迟（ms）\",\"type\":\"gauge\"},{\"datasource\":\"MySQL\",\"fieldConfig\":{\"defaults\":{\"custom\":{\"align\":null},\"mappings\":[],\"thresholds\":{\"mode\":\"percentage\",\"steps\":[{\"color\":\"green\",\"value\":null},{\"color\":\"red\",\"value\":80}]}},\"overrides\":[]},\"gridPos\":{\"h\":5,\"w\":3,\"x\":21,\"y\":10},\"id\":19,\"options\":{\"orientation\":\"auto\",\"reduceOptions\":{\"calcs\":[\"lastNotNull\"],\"fields\":\"\",\"values\":false},\"showThresholdLabels\":false,\"showThresholdMarkers\":false},\"pluginVersion\":\"7.2.2\",\"targets\":[{\"format\":\"time_series\",\"group\":[],\"metricColumn\":\"none\",\"rawQuery\":true,\"rawSql\":\"SELECT\\n  clickTimeInt AS \\\"time\\\",\\n  delay\\nFROM monitor\\nwhere ipaddr='http://10.77.70.173:7002/provider/echo/dfg' \\nORDER BY clickTime\",\"refId\":\"A\",\"select\":[[{\"params\":[\"serviceDelay\"],\"type\":\"column\"}]],\"table\":\"monitor-1\",\"timeColumn\":\"clickTime\",\"timeColumnType\":\"timestamp\",\"where\":[{\"name\":\"$__timeFilter\",\"params\":[],\"type\":\"macro\"}]}],\"timeFrom\":null,\"timeShift\":null,\"title\":\"当前监控延迟（ms）\",\"type\":\"gauge\"},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":\"jsonDataSource\",\"description\":\"\",\"fieldConfig\":{\"defaults\":{\"custom\":{\"align\":null,\"filterable\":false},\"mappings\":[],\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"green\",\"value\":null},{\"color\":\"red\",\"value\":80}]}},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":11,\"w\":9,\"x\":0,\"y\":11},\"hiddenSeries\":false,\"id\":20,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"nullPointMode\":\"null as zero\",\"options\":{\"alertThreshold\":true},\"percentage\":true,\"pluginVersion\":\"7.2.2\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":true,\"steppedLine\":false,\"targets\":[{\"data\":\"\",\"hide\":false,\"rawQuery\":true,\"refId\":\"A\",\"target\":\"totalSuccessInSec\",\"type\":\"timeseries\"},{\"data\":\"\",\"refId\":\"B\",\"target\":\"totalRequestInSec\",\"type\":\"timeseries\"}],\"thresholds\":[],\"timeFrom\":null,\"timeRegions\":[],\"timeShift\":null,\"title\":\"服务成功率\",\"tooltip\":{\"shared\":true,\"sort\":0,\"value_type\":\"individual\"},\"transformations\":[{\"id\":\"calculateField\",\"options\":{\"binary\":{\"left\":\"totalSuccessInSec\",\"operator\":\"+\",\"reducer\":\"sum\",\"right\":\"totalRequestInSec\"},\"mode\":\"binary\",\"reduce\":{\"reducer\":\"sum\"},\"replaceFields\":true}}],\"type\":\"graph\",\"xaxis\":{\"buckets\":null,\"mode\":\"time\",\"name\":null,\"show\":true,\"values\":[]},\"yaxes\":[{\"$$hashKey\":\"object:2631\",\"format\":\"short\",\"label\":null,\"logBase\":1,\"max\":null,\"min\":null,\"show\":true},{\"$$hashKey\":\"object:2632\",\"format\":\"short\",\"label\":null,\"logBase\":1,\"max\":null,\"min\":null,\"show\":true}],\"yaxis\":{\"align\":false,\"alignLevel\":null}},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":\"MySQL\",\"description\":\"\",\"fieldConfig\":{\"defaults\":{\"custom\":{\"align\":null,\"filterable\":false},\"mappings\":[],\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"green\",\"value\":null},{\"color\":\"red\",\"value\":80}]}},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":11,\"w\":9,\"x\":9,\"y\":11},\"hiddenSeries\":false,\"id\":22,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"nullPointMode\":\"null as zero\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"7.2.2\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"format\":\"time_series\",\"group\":[],\"metricColumn\":\"none\",\"rawQuery\":true,\"rawSql\":\"SELECT\\r\\n  clickTimeInt-RIGHT(clickTimeInt,3) AS \\\"time\\\",\\r\\n  avg(delay)\\r\\nFROM monitor\\r\\nwhere ipaddr='http://10.77.70.173:7002/provider/echo/dfg' \\r\\nGROUP BY clickTimeInt-RIGHT(clickTimeInt,3)\",\"refId\":\"A\",\"select\":[[{\"params\":[\"clickTimeInt\"],\"type\":\"column\"}]],\"table\":\"monitor\",\"timeColumn\":\"clickTime\",\"timeColumnType\":\"timestamp\",\"where\":[{\"name\":\"$__timeFilter\",\"params\":[],\"type\":\"macro\"}]}],\"thresholds\":[],\"timeFrom\":null,\"timeRegions\":[],\"timeShift\":null,\"title\":\"监控延迟(ms)\",\"tooltip\":{\"shared\":true,\"sort\":0,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"buckets\":null,\"mode\":\"time\",\"name\":null,\"show\":true,\"values\":[]},\"yaxes\":[{\"$$hashKey\":\"object:128\",\"format\":\"short\",\"label\":null,\"logBase\":1,\"max\":null,\"min\":null,\"show\":true},{\"$$hashKey\":\"object:129\",\"format\":\"short\",\"label\":null,\"logBase\":1,\"max\":null,\"min\":null,\"show\":true}],\"yaxis\":{\"align\":false,\"alignLevel\":null}},{\"datasource\":\"jsonDataSource\",\"description\":\"\",\"fieldConfig\":{\"defaults\":{\"custom\":{\"align\":null},\"mappings\":[],\"noValue\":\"0\",\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"green\",\"value\":null},{\"color\":\"#EAB839\",\"value\":50000},{\"color\":\"red\",\"value\":100000}]},\"unit\":\"none\"},\"overrides\":[]},\"gridPos\":{\"h\":3,\"w\":6,\"x\":18,\"y\":15},\"id\":11,\"options\":{\"colorMode\":\"value\",\"graphMode\":\"none\",\"justifyMode\":\"auto\",\"orientation\":\"horizontal\",\"reduceOptions\":{\"calcs\":[\"mean\"],\"fields\":\"\",\"values\":false},\"textMode\":\"value\"},\"pluginVersion\":\"7.2.2\",\"targets\":[{\"data\":\"\",\"hide\":false,\"refId\":\"A\",\"target\":\"avgRtInSec\",\"type\":\"timeseries\"}],\"timeFrom\":null,\"timeShift\":null,\"title\":\"平均访问延迟（ms）\",\"transparent\":true,\"type\":\"stat\"},{\"datasource\":\"jsonDataSource\",\"description\":\"\",\"fieldConfig\":{\"defaults\":{\"custom\":{\"align\":null},\"mappings\":[],\"noValue\":\"0\",\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"green\",\"value\":null},{\"color\":\"#EAB839\",\"value\":50000},{\"color\":\"red\",\"value\":100000}]},\"unit\":\"none\"},\"overrides\":[]},\"gridPos\":{\"h\":3,\"w\":6,\"x\":18,\"y\":18},\"id\":26,\"options\":{\"colorMode\":\"value\",\"graphMode\":\"none\",\"justifyMode\":\"auto\",\"orientation\":\"horizontal\",\"reduceOptions\":{\"calcs\":[\"lastNotNull\"],\"fields\":\"\",\"values\":false},\"textMode\":\"value\"},\"pluginVersion\":\"7.2.2\",\"targets\":[{\"data\":\"\",\"hide\":false,\"refId\":\"A\",\"target\":\"avgRtInSec\",\"type\":\"timeseries\"}],\"timeFrom\":null,\"timeShift\":null,\"title\":\"当前访问延迟（ms）\",\"transparent\":true,\"type\":\"stat\"},{\"collapsed\":false,\"datasource\":null,\"gridPos\":{\"h\":1,\"w\":24,\"x\":0,\"y\":22},\"id\":16,\"panels\":[],\"title\":\"Row title\",\"type\":\"row\"},{\"aliasColors\":{},\"bars\":false,\"dashLength\":10,\"dashes\":false,\"datasource\":\"MySQL\",\"fieldConfig\":{\"defaults\":{\"custom\":{}},\"overrides\":[]},\"fill\":1,\"fillGradient\":0,\"gridPos\":{\"h\":8,\"w\":12,\"x\":0,\"y\":23},\"hiddenSeries\":false,\"id\":8,\"legend\":{\"avg\":false,\"current\":false,\"max\":false,\"min\":false,\"show\":true,\"total\":false,\"values\":false},\"lines\":true,\"linewidth\":1,\"nullPointMode\":\"null\",\"options\":{\"alertThreshold\":true},\"percentage\":false,\"pluginVersion\":\"7.2.2\",\"pointradius\":2,\"points\":false,\"renderer\":\"flot\",\"seriesOverrides\":[],\"spaceLength\":10,\"stack\":false,\"steppedLine\":false,\"targets\":[{\"format\":\"time_series\",\"group\":[],\"metricColumn\":\"none\",\"rawQuery\":true,\"rawSql\":\"SELECT\\r\\n  clickTimeInt-RIGHT(clickTimeInt,3) AS \\\"time\\\",\\r\\n  SUM(nums),\\r\\n  avg(delay)\\r\\nFROM monitor\\r\\nwhere ipaddr='http://10.77.70.173:7002/provider/echo/dfg' \\r\\nGROUP BY clickTimeInt-RIGHT(clickTimeInt,3)\",\"refId\":\"A\",\"select\":[[{\"params\":[\"serviceDelay\"],\"type\":\"column\"}]],\"table\":\"monitor-1\",\"timeColumn\":\"clickTime\",\"timeColumnType\":\"timestamp\",\"where\":[{\"name\":\"$__timeFilter\",\"params\":[],\"type\":\"macro\"}]}],\"thresholds\":[],\"timeFrom\":null,\"timeRegions\":[],\"timeShift\":null,\"title\":\"未经验证数据（ms）\",\"tooltip\":{\"shared\":true,\"sort\":0,\"value_type\":\"individual\"},\"type\":\"graph\",\"xaxis\":{\"buckets\":null,\"mode\":\"time\",\"name\":null,\"show\":true,\"values\":[]},\"yaxes\":[{\"$$hashKey\":\"object:1616\",\"format\":\"short\",\"label\":null,\"logBase\":1,\"max\":null,\"min\":null,\"show\":true},{\"$$hashKey\":\"object:1617\",\"format\":\"short\",\"label\":null,\"logBase\":1,\"max\":null,\"min\":null,\"show\":true}],\"yaxis\":{\"align\":false,\"alignLevel\":null}},{\"datasource\":\"jsonDataSource\",\"description\":\"\",\"fieldConfig\":{\"defaults\":{\"custom\":{\"align\":null},\"mappings\":[],\"noValue\":\"0\",\"thresholds\":{\"mode\":\"absolute\",\"steps\":[{\"color\":\"green\",\"value\":null}]},\"unit\":\"none\"},\"overrides\":[]},\"gridPos\":{\"h\":3,\"w\":6,\"x\":12,\"y\":23},\"id\":2,\"options\":{\"colorMode\":\"value\",\"graphMode\":\"none\",\"justifyMode\":\"auto\",\"orientation\":\"horizontal\",\"reduceOptions\":{\"calcs\":[\"sum\"],\"fields\":\"\",\"values\":false},\"textMode\":\"auto\"},\"pluginVersion\":\"7.2.2\",\"targets\":[{\"data\":\"\",\"refId\":\"A\",\"target\":\"totalRequestInSec\",\"type\":\"timeseries\"}],\"timeFrom\":null,\"timeShift\":null,\"title\":\"累计访问次数\",\"transparent\":true,\"type\":\"stat\"}],\"refresh\":false,\"schemaVersion\":26,\"style\":\"dark\",\"tags\":[],\"templating\":{\"list\":[]},\"time\":{\"from\":\"now-5m\",\"to\":\"now\"},\"timepicker\":{\"refresh_intervals\":[\"5s\",\"10s\",\"30s\",\"1m\",\"5m\",\"15m\",\"30m\",\"1h\",\"2h\",\"1d\"]},\"timezone\":\"\",\"title\":\"template\",\"uid\":null},  \"folderId\": 0,\"overwrite\": true}";

    @Value(value = "${fabric.grafana-addr}")
    public void setGrafana_addr(String grafana_addr) {
        this.grafana_addr = grafana_addr;
    }

}
